"use strict";var express=require("express"),fs=require("fs"),path=require("path"),app=express(),PORT=process.env.PORT||3001;app.use(express.urlencoded({extended:!0})),app.use(express.json()),app.use(express.static("public"));var allNotes=JSON.parse(fs.readFileSync("./db/db.json","utf8"));function writeNotes(e){fs.writeFileSync("./db/db.json",JSON.stringify(e))}app.get("/",function(e,s){s.sendFile(path.join(__dirname,"./public/index.html"))}),app.get("/notes",function(e,s){s.sendFile(path.join(__dirname,"./public/notes.html"))}),app.get("/api/notes",function(e,s){s.json(allNotes)}),app.post("/api/notes",function(e,s){var t=e.body;t.id=allNotes.length+1,allNotes.push(t),writeNotes(allNotes),s.json(t)}),app.delete("/api/notes/:id",function(e,s){var t=e.params.id,n=allNotes.find(function(e){return e.id==t}),i=allNotes.indexOf(n);allNotes.splice(i,1),writeNotes(allNotes),s.json(!0)}),app.listen(PORT,function(){console.log("App listening on PORT ".concat(PORT))});
//# sourceMappingURL=server.min.js.map
