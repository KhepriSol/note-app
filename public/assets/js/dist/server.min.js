"use strict";var express=require("express"),path=require("path"),fs=require("fs"),util=require("util"),readFileAsync=util.promisify(fs.readFile),writeFileAsync=util.promisify(fs.writeFile),app=express(),PORT=process.env.PORT||3e3;app.use(express.urlencoded({extended:!0})),app.use(express.json()),app.use(express.static("./develop.public")),app.get("/api/notes",function(e,n){readFileAsync("./develop/db/db.json","utf8").then(function(e){notes=[].concat(JSON.parse(e)),n.json(notes)})}),app.post("/api/notes",function(e,n){var s=e.body;readFileAsync("./develop/db/db.son","utf8").then(function(e){var n=[].concat(JSON.parse(e));return s.id=n.length+1,n.push(s),n}).then(function(e){writeFileAsync("./develop/db/db.json",JSON.stringify(e)),n.son(s)})}),app.delete("api/notes/:id",function(e,n){var t=parseInt(e.params.id);readFileAsync("./develop/db/db.json","utf8").then(function(e){for(var n=[].concat(JSON.parse(e)),s=[],i=0;i<n.length;i++)t!==n[i].id&&s.push(n[i]);return s}).then(function(e){writeFileAsync("./develop/db/db.json",JSON.stringify(e)),n.send("saved success!")})}),app.get("/notes",function(e,n){n.sendFile(path.join(__dirname,"./develop/public/notes.html"))}),app.get("/",function(e,n){n.sendFile(path.join(__dirname,"./develop/public/index.html"))}),app.get("*",function(e,n){n.sendFile(path.join(__dirname,"./develop/public/index.html"))}),app.listen(PORT,function(){console.log("app listening on Port"+PORT)});
//# sourceMappingURL=server.min.js.map
