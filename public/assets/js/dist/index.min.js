"use strict";var noteTitle,noteText,saveNoteBtn,newNoteBtn,noteList;"/notes"===window.location.pathname&&(noteTitle=document.querySelector(".note-title"),noteText=document.querySelector(".note-textarea"),saveNoteBtn=document.querySelector(".save-note"),newNoteBtn=document.querySelector(".new-note"),noteList=document.querySelectorAll(".list-container .list-group"));var show=function(e){e.style.display="inline"},hide=function(e){e.style.display="none"},activeNote={},getNotes=function(){return fetch("/api/notes",{method:"GET",headers:{"Content-Type":"application/json"}})},saveNote=function(e){return fetch("/api/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})},deleteNote=function(e){return fetch("/api/notes/".concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}})},renderActiveNote=function(){hide(saveNoteBtn),activeNote.id?(noteTitle.setAttribute("readonly",!0),noteText.setAttribute("readonly",!0),noteTitle.value=activeNote.title,noteText.value=activeNote.text):(noteTitle.removeAttribute("readonly"),noteText.removeAttribute("readonly"),noteTitle.value="",noteText.value="")},handleNoteSave=function(){var e={title:noteTitle.value,text:noteText.value};saveNote(e).then(function(){getAndRenderNotes(),renderActiveNote()})},handleNoteDelete=function(e){e.stopPropagation();var t=e.target,n=JSON.parse(t.parentElement.getAttribute("data-note")).id;activeNote.id===n&&(activeNote={}),deleteNote(n).then(function(){getAndRenderNotes(),renderActiveNote()})},handleNoteView=function(e){e.preventDefault(),activeNote=JSON.parse(e.target.parentElement.getAttribute("data-note")),renderActiveNote()},handleNewNoteView=function(){activeNote={},renderActiveNote()},handleRenderSaveBtn=function(){noteTitle.value.trim()&&noteText.value.trim()?show(saveNoteBtn):hide(saveNoteBtn)},renderNoteList=function(t){var n,o,a;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(t.json());case 2:n=e.sent,"/notes"===window.location.pathname&&noteList.forEach(function(e){return e.innerHTML=""}),o=[],a=function(e,t){var n=!(1<arguments.length&&void 0!==t)||t,o=document.createElement("li");o.classList.add("list-group-item");var a=document.createElement("span");if(a.innerText=e,a.addEventListener("click",handleNoteView),o.append(a),n){var i=document.createElement("i");i.classList.add("fas","fa-trash-alt","float-right","text-danger","delete-note"),i.addEventListener("click",handleNoteDelete),o.append(i)}return o},0===n.length&&o.push(a("No saved Notes",!1)),n.forEach(function(e){var t=a(e.title);t.dataset.note=JSON.stringify(e),o.push(t)}),"/notes"===window.location.pathname&&o.forEach(function(e){return noteList[0].append(e)});case 9:case"end":return e.stop()}})},getAndRenderNotes=function(){return getNotes().then(renderNoteList)};"/notes"===window.location.pathname&&(saveNoteBtn.addEventListener("click",handleNoteSave),newNoteBtn.addEventListener("click",handleNewNoteView),noteTitle.addEventListener("keyup",handleRenderSaveBtn),noteText.addEventListener("keyup",handleRenderSaveBtn)),getAndRenderNotes();
//# sourceMappingURL=index.min.js.map
